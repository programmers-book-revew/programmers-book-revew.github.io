---
layout: post
title: JavaScript
categories: rank_3
tags: [プログラマ, javascript, oreilly]
---


<div class="book"><div class="book_image"><a href="http://www.amazon.co.jp/dp/4873115736"><img src="/images/javascript.jpg"></img></a></div><div class="book_info">David Flanagan / オライリージャパン</div><div class="clear"></div></div>

jaxが流行っているので、その前にJavaScriptのお勉強と思い読んでみた。結構大きな本屋(e.g. AOZOの丸善)でもJavaScrpit言語自体をしっかりと解説した本が売っていない。この本が置いていないのは古いからか。パッと調べた感じキチント書いてあるのは唯一この本くらいではないか。amazonで購入。ここら辺を押さえないでちゃんとしたプログラムが出来るとは思えないのだけど。スクリプト言語でちゃんとしたプログラムは必要ないということか。 

オブジェクトベースの継承などから Obliqに近い気がしたが、Obliqほどきれいではなく、Perlの汚なさ(便利さ)が入っている感じ。それでも予想以上にしっかりした言語という印象。 

関数とクロージャの説明が良く分からなかった。なんとなくSchemeと同じような気もするけど違う所もある気がしたため(ちなみにSchemeだと関数(λ式)を評価(eval)するとλ式と評価時の環境の組であるクロージャが返されて、クロージャを関数適用(apply)するとクロージャ中の環境を使ってλ式が評価される)。 

以下、自分用メモ<!--more--> 

JavaScriptの特徴

* 関数(Lispで言うところのλ式)やクロージャがファーストクラス(変数に代入可能)。 
* プロトタイプベースの継承(クラスベースでは無い) 
* 変数に型がない。 

tipsなど: 

* varを用いて変数宣言した方が良い。
* varを用いないとグローバル変数で生成されるから。
* 変数でブロックレベルのスコープは無い。関数全体で有効。従って変数宣言は関数の最初で宣言すべき。 
* ==はオペランドの型が異なるときに型変換を行って識別する。===はオペランドの型が異なるときはfalseを返す。
* &&は最後に評価した式の評価値を返す(true, falseが返るとは限らない)。 
* typeofで返るのは"number", "string", "boolean", "object"のみ。オブジェクトの型を知りたいときは(d.constructor == Date)などで判別する。
* 関数に引数が無いときは()を省略しても構わない。
* delete演算子はプロパティや配列要素を削除または未定義にする。
* void演算子はオペランド値を廃棄して未定義値を返す。 
* 文字列は'と"で囲むことが出来るが、HTMLで"を使うので'で囲む方が良い。 
* 1行に1文しか無いときは;を省略しても構わない。自動的に;が付加される。従って、 

return 

3;

だと3は返らない(未定義値が返る)。

* with文は変数のスコープを一時的に変えることが出来るが関数定義と変数の初期設定がある場合思いがけない振る舞いがある(詳細は未記述)ので使わない方が良い。変数への代入で代用できる。 
* 引数の数の確認はしない。足りない場合仮引数には未定義値が束縛され、余分なものは無視される。
